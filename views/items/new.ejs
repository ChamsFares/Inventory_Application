<!DOCTYPE html>
<html>
<head>
  <title>Add New Item</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h1 { color: #333; }
    form { margin-top: 20px; }
    label { display: block; margin-bottom: 5px; }
    input, textarea, select { margin-bottom: 10px; padding: 8px; width: 100%; max-width: 500px; }
    .button { background-color: #007bff; color: white; padding: 10px 15px; border: none; border-radius: 5px; text-decoration: none; }
    .button:hover { background-color: #0056b3; }
    .error { color: red; margin-bottom: 10px; }
  </style>
</head>
<body>
  <h1>Add New Item</h1>
  <% if (errors) { %>
    <div class="error">
      <ul>
        <% errors.forEach(function(error) { %>
          <li><%= error.msg %></li>
        <% }); %>
      </ul>
    </div>
  <% } %>
  <form action="/items" method="POST">
    <label for="name">Name:</label>
    <input type="text" name="name" value="<%= item ? item.name : '' %>">
    <label for="description">Description:</label>
    <textarea name="description"><%= item ? item.description : '' %></textarea>
    <label for="price">Price:</label>
    <input type="text" name="price" value="<%= item ? item.price : '' %>">
    <label for="quantity">Quantity:</label>
    <input type="text" name="quantity" value="<%= item ? item.quantity : '' %>">
    <label for="category_id">Category:</label>
    <select name="category_id">
      <% categories.forEach(function(category) { %>
        <option value="<%= category.id %>" <% if (item && item.category_id === category.id) { %> selected <% } %>><%= category.name %></option>
      <% }); %>
    </select>
    <button type="submit" class="button">Create Item</button>
  </form>
  <a href="/items" class="back-link">Back to Items</a>
</body>
</html>
